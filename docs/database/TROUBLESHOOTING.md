# üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

## ‚ùå –û—à–∏–±–∫–∞: `ModuleNotFoundError: No module named 'sqlalchemy'`

### –ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ?

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ë–î –≤—ã –ø–æ–ª—É—á–∏–ª–∏ –æ—à–∏–±–∫—É:
```
ModuleNotFoundError: No module named 'sqlalchemy'
```

### –ü—Ä–∏—á–∏–Ω–∞

–ú–æ–¥—É–ª—å `sqlalchemy` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –≤–∞—à–µ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ Python. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏:
- –í—ã –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
- –í—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –¥—Ä—É–≥–æ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –±—ã–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ –¥—Ä—É–≥–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏

### ‚úÖ –†–µ—à–µ–Ω–∏–µ

#### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞

```bash
pip install -r requirements.txt
```

–ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î:

```bash
pip install sqlalchemy alembic psycopg2-binary
```

#### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É

```bash
python -c "import sqlalchemy; print(sqlalchemy.__version__)"
```

–î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –≤–µ—Ä—Å–∏—é SQLAlchemy (–Ω–∞–ø—Ä–∏–º–µ—Ä, `2.0.23`).

#### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å–Ω–æ–≤–∞

```bash
python scripts/tools/view_db_structure.py
```

---

## ‚ùå –û—à–∏–±–∫–∞: "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î"

### –ü—Ä–∏—á–∏–Ω–∞

PostgreSQL –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω `DATABASE_URL`.

### ‚úÖ –†–µ—à–µ–Ω–∏–µ

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∑–∞–ø—É—â–µ–Ω –ª–∏ PostgreSQL:**
   ```bash
   # Windows (—á–µ—Ä–µ–∑ —Å–ª—É–∂–±—ã)
   services.msc
   # –ù–∞–π–¥–∏—Ç–µ "postgresql" –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–ª—É–∂–±–∞ –∑–∞–ø—É—â–µ–Ω–∞
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env`:**
   ```env
   DATABASE_URL=postgresql://postgres:postgres@localhost:5432/docreview
   ```
   
   –§–æ—Ä–º–∞—Ç: `postgresql://username:password@host:port/database`

3. **–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç):**
   ```bash
   # –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ PostgreSQL
   psql -U postgres
   
   # –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
   CREATE DATABASE docreview;
   
   # –í—ã–π–¥–∏—Ç–µ
   \q
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**
   ```bash
   psql -h localhost -U postgres -d docreview
   ```

---

## ‚ùå –û—à–∏–±–∫–∞: "–¢–∞–±–ª–∏—Ü–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"

### –ü—Ä–∏—á–∏–Ω–∞

–¢–∞–±–ª–∏—Ü—ã –Ω–µ —Å–æ–∑–¥–∞–Ω—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

### ‚úÖ –†–µ—à–µ–Ω–∏–µ

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏ Alembic (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏
alembic upgrade head
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä—è–º–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü

```bash
python scripts/init_db.py
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ SQLAlchemy.

---

## ‚ùå –û—à–∏–±–∫–∞: "password authentication failed"

### –ü—Ä–∏—á–∏–Ω–∞

–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å PostgreSQL –≤ `DATABASE_URL`.

### ‚úÖ –†–µ—à–µ–Ω–∏–µ

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–æ–ª—å PostgreSQL:**
   ```bash
   psql -U postgres
   # –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –∑–Ω–∞–µ—Ç–µ
   ```

2. **–û–±–Ω–æ–≤–∏—Ç–µ `.env` —Ñ–∞–π–ª:**
   ```env
   DATABASE_URL=postgresql://postgres:–í–ê–®_–ü–†–ê–í–ò–õ–¨–ù–´–ô_–ü–ê–†–û–õ–¨@localhost:5432/docreview
   ```

3. **–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
   ```sql
   CREATE USER docreview_user WITH PASSWORD 'your_password';
   GRANT ALL PRIVILEGES ON DATABASE docreview TO docreview_user;
   ```

---

## ‚ùå –û—à–∏–±–∫–∞: "database does not exist"

### –ü—Ä–∏—á–∏–Ω–∞

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `docreview` –Ω–µ —Å–æ–∑–¥–∞–Ω–∞.

### ‚úÖ –†–µ—à–µ–Ω–∏–µ

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ PostgreSQL
psql -U postgres

# –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
CREATE DATABASE docreview;

# –í—ã–π–¥–∏—Ç–µ
\q
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
python -c "from src.db.session import engine; engine.connect(); print('‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ')"

# 2. –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î
python scripts/tools/view_db_structure.py

# 3. –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö
python scripts/tools/view_db_data.py
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–º–æ—â—å

- [README.md](README.md) - –û–±–∑–æ—Ä —Ä–∞–±–æ—Ç—ã —Å –ë–î
- [VIEW_DATABASE.md](VIEW_DATABASE.md) - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –¥–∞–Ω–Ω—ã—Ö
- [ADDING_FIELD.md](ADDING_FIELD.md) - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π

---

## üí° –°–æ–≤–µ—Ç—ã

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
   ```bash
   python -m venv venv
   venv\Scripts\activate  # Windows
   pip install -r requirements.txt
   ```

2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤–µ—Ä—Å–∏–∏:**
   ```bash
   python --version  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 3.11+
   pip --version
   ```

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ):**
   ```bash
   docker-compose up -d postgres
   ```

