# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ JSON –≤ Swagger UI

## ‚ùå –û—à–∏–±–∫–∞, –∫–æ—Ç–æ—Ä—É—é –≤—ã –ø–æ–ª—É—á–∏–ª–∏

```
422 Error: Unprocessable Entity
"JSON decode error"
"Invalid control character at"
```

## üîç –ü—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏

–û—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –∫–æ–≥–¥–∞ –≤ —Ç–µ–∫—Å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –µ—Å—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã (–ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫, —Ç–∞–±—É–ª—è—Ü–∏–∏ –∏ —Ç.–¥.), –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è JSON.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π JSON —Ñ–æ—Ä–º–∞—Ç

### –°–ø–æ—Å–æ–± 1: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å JSON —Ñ–æ—Ä–º–∞—Ç–æ–º (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç:**
   ```bash
   python show_file_content_json.py
   ```

2. **–°–∫—Ä–∏–ø—Ç –≤—ã–≤–µ–¥–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π JSON:**
   ```json
   {
     "document": "# my_docs.md\n\n---\n\n### **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è...",
     "document_type": "markdown",
     "context": {}
   }
   ```

3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å JSON** (–æ—Ç `{` –¥–æ `}`)

4. **–í Swagger UI:**
   - –ù–∞–π–¥–∏—Ç–µ `POST /api/v1/review/start`
   - –ù–∞–∂–º–∏—Ç–µ "Try it out"
   - **–í–ê–ñ–ù–û:** –í –ø–æ–ª–µ "Request body" –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç `application/json`
   - –í—Å—Ç–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON
   - –ù–∞–∂–º–∏—Ç–µ "Execute"

### –°–ø–æ—Å–æ–± 2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä—É—á–Ω—É—é

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Å—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–±, —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:

1. **–í Swagger UI –≤—ã–±—Ä–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç:**
   - –í –ø–æ–ª–µ "Request body" –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: `application/json`
   - –ù–ï `text/plain` –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç

2. **–¢–µ–∫—Å—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω:**
   - –ü–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–∞–∫ `\n`
   - –ö–∞–≤—ã—á–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω—ã `\"`
   - –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω—ã

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–æ—Ä–º–∞—Ç JSON:**
   ```json
   {
     "document": "–≤–∞—à —Ç–µ–∫—Å—Ç –∑–¥–µ—Å—å",
     "document_type": "markdown",
     "context": {}
   }
   ```

---

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±)

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç

```bash
python show_file_content_json.py
```

### –®–∞–≥ 2: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ JSON

–í—ã —É–≤–∏–¥–∏—Ç–µ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:
```json
{
  "document": "# my_docs.md\n\n---\n\n### **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–í–µ—Ä—Å–∏—è 1.0)**\n\n...",
  "document_type": "markdown",
  "context": {}
}
```

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å JSON** (–æ—Ç –ø–µ—Ä–≤–æ–π `{` –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π `}`)

### –®–∞–≥ 3: –í Swagger UI

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8000/docs
2. –ù–∞–π–¥–∏—Ç–µ `POST /api/v1/review/start`
3. –ù–∞–∂–º–∏—Ç–µ **"Try it out"**
4. **–í–ê–ñ–ù–û:** –í –ø–æ–ª–µ "Request body" (–≤–≤–µ—Ä—Ö—É) –≤—ã–±–µ—Ä–∏—Ç–µ `application/json`
5. –í—Å—Ç–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON –≤ –±–æ–ª—å—à–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ
6. –ù–∞–∂–º–∏—Ç–µ **"Execute"**

---

## ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### –û—à–∏–±–∫–∞ 1: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç Request body

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—ã–±—Ä–∞–Ω–æ `text/plain` –≤–º–µ—Å—Ç–æ `application/json`

**–†–µ—à–µ–Ω–∏–µ:** –í –ø–æ–ª–µ "Request body" –≤—ã–±–µ—Ä–∏—Ç–µ `application/json`

### –û—à–∏–±–∫–∞ 2: –ù–µ–ø–æ–ª–Ω—ã–π JSON

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞, –∞ –Ω–µ –≤–µ—Å—å JSON –æ–±—ä–µ–∫—Ç

**–†–µ—à–µ–Ω–∏–µ:** –ö–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å JSON –æ—Ç `{` –¥–æ `}`, –≤–∫–ª—é—á–∞—è –≤—Å–µ –ø–æ–ª—è

### –û—à–∏–±–∫–∞ 3: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –Ω–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `show_file_content_json.py` - –æ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç –≤—Å–µ —Å–∏–º–≤–æ–ª—ã

---

## üéØ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å JSON —Ñ–æ—Ä–º–∞—Ç–æ–º
python show_file_content_json.py

# 2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å JSON (–æ—Ç { –¥–æ })

# 3. –í Swagger UI:
#    - Request body: application/json
#    - –í—Å—Ç–∞–≤—å—Ç–µ JSON
#    - Execute
```

**–ì–æ—Ç–æ–≤–æ!** ‚úÖ

